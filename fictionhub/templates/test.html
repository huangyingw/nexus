{% extends "base.html" %}
{% load markdownify %}
{% load staticfiles %}

{% block title %}
    {{post.title}}
{% endblock %}

{% block content %}

<div id="page"  class="postPage">
<br/>

  <div class="row">
      <div class="large-8 columns">
	<div id="calendar">
	</div>
      </div>
      <div class="large-4 columns">
	<b> Total Days: 94</b><br/>	
	<b> Longest Streak: 24</b><br/>	
	<b> Current Streak: 18</b><br/>	
      </div>
  </div>
  <div class="clearfix"></div><br/>
  <div class="row">
    <div class="large-12 columns">
      <b> Today: 341 words</b><br/>	
      <div class="progress" style="margin: 0px;border: 1px solid #7C868E;">
	<div class="goal" style="width:50%; height:24px;border: 1px solid #7C868E;">
	  <span class="meter" style="width:0; max-width:200%;"></span>
	</div>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="large-12 columns">





      <!-- Prompt -->
      <div class="prompt">
	<article  style="padding:10px;    background: rgba(255,255,255,0.5);//#fff;
			 box-shadow: 0 1px 4px rgba(0,0,0,.04);
			 border: 1px solid rgba(0,0,0,.09);
			 border-radius: 3px;">
	  <span class="bold black">
	    Today's Challenge<!-- Prompt -->:
	  </span>
	</article>
      </div>

      <br/>

    <div id="test">
	<textarea>
	</textarea>

	<!-- 
	<div class="progress" style="margin: 0px;border: 1px solid #7C868E;">
	  <div class="goal" style="width:50%; height:24px;border: 1px solid #7C868E;">
	    <span class="meter" style="width:0; max-width:200%;"></span>
	  </div>
	</div>
	-->
    
      </div>
    </div> <!-- End 12 columns -->
</div>	 <!-- End row -->
</div>	 <!-- End page -->


<script src="{% static "/static/js/js-chart-widgets.min.js" %}" type="text/javascript"></script>

<script>
new Calendar({
  append_to: 'calendar',
  num_weeks: 51,
  day_size: 11,
  data: [
    ['2012-03-01', 123],
    ['2012-03-02', 456.7],
    // gaps are fine
    ['2016-05-01', 234]
  ],
  color: '#005500'
});  
</script>


<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
<script src="//cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>


<script>
    var simplemde;
var editor;
$('textarea').each(function() {
    simplemde = new SimpleMDE({
	element: this,
	autosave: {
            enabled: true,
            uniqueId: "123",
            delay: 1000,
	},    
    });
   simplemde.render();
    // Progress Bar
    simplemde.codemirror.on("change", function(){
	editor = $(simplemde.element.parentNode.children[4]).parent()
	words = editor.find(".words").html();
	percent = (parseFloat(words)/(256))*100;
	$(".meter").css("width",percent+"%")
	if (percent > 100) {
	    $(".meter").css("background","green");
	} else {
	    $(".meter").css("background","#008CBA");	    
	}
    });
    
})

</script>


<style>
  .Calendar div {
  margin:auto;
  }
</style>
{% endblock content %}



